(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16ee2352"],{"71e7":function(t,e,a){},"7e55":function(t,e,a){"use strict";a.r(e);var i=a("8336"),s=a("b0af"),n=a("99d9"),o=a("62ad"),c=a("adda"),r=a("0fd9"),l=a("2db4"),d=a("8654"),h=function(){var t=this,e=t.$createElement,h=t._self._c||e;return h("div",{staticClass:"pt-5 pl-5 pr-5"},[h(s["a"],{attrs:{color:"#55B4B0",rounded:"xl"}},[h(n["b"],{staticClass:"justify-center text-h4 pt-5 pb-5 font-weight-black"},[t._v("AÑADIR UNA MEDICINA")])],1),h(r["a"],{staticClass:"pt-10"},[h(o["a"],{attrs:{cols:"12",sm:"8"}},[h(s["a"],{attrs:{color:"#55B4B0",rounded:"xl"}},[h(n["b"],{staticClass:"justify-center text-h5 pt-5 pb-5 font-weight-black"},[t._v("FORMULARIO DE REGISTRO")]),h("form",{attrs:{color:"blue lighten-1"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[h("vue-title",{attrs:{title:"Static Title"}}),h(d["a"],t._b({staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"MEDICINA ID",disabled:""},model:{value:t.cant,callback:function(e){t.cant=e},expression:"cant"}},"v-text-field",{placeholder:"MEDICINE"+this.cant.toString()},!1)),h(d["a"],{staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Nombre Génerico",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),h(d["a"],{staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Concentración",required:""},model:{value:t.concentration,callback:function(e){t.concentration=e},expression:"concentration"}}),h(d["a"],{staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Forma Farmacéutica",required:""},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}),h(d["a"],{staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",type:"Date",hint:"Fecha de Expiración",required:""},model:{value:t.expiration,callback:function(e){t.expiration=e},expression:"expiration"}}),h(d["a"],{staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",type:"number",label:"Cantidad",required:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),h(d["a"],{staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Lote - Código",required:""},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}}),h(o["a"],{staticClass:"pb-3 pl-10 pt-2 pr-10",attrs:{cols:"12"}},[h(i["a"],{attrs:{block:"",color:"blue lighten-1"},on:{click:t.submit}},[t._v("ENVIAR")])],1)],1)],1)],1),h(o["a"],{attrs:{cols:"12",sm:"3"}},[h(c["a"],{staticClass:"pl-20",attrs:{src:a("6632"),contain:"",height:"400"}})],1)],1),1==t.snb?h("div",[h(l["a"],{attrs:{timeout:-1,value:!0,bottom:"","multi-line":t.multiLine,color:"primary"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[h(i["a"],t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Cerrar ")])]}}],null,!1,1709225506),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.text)+" ")])],1):t._e()],1)},p=[],u=a("d4ce"),b=a("bc3a"),m={data:()=>({id:"",name:"",concentration:"",form:"",expiration:"",quantity:0,barcode:"",qStr:"",medicines:[],windows:null,cant:0,codes:[],text:"",snb:!1,multiLine:!0,snackbar:!1}),created(){this.retrieveMedicines()},methods:{async submit(){this.retrieveMedicines(),this.id="MEDICINE"+this.cant.toString(),this.qStr=this.quantity.toString(),console.log("CANTIDADD "+this.id),console.log("QUA "+this.qStr);var t=Date.now(),e=new Date(t),a=new Date(this.expiration);if(a>e)if(this.name.length>0&&this.concentration.length>0&&this.form.length>0&&this.quantity>0&&13==this.barcode.length)for(var i=0;i<this.cant;i++){if(this.codes[i]==this.barcode){this.snb=!0,this.snackbar=!0,this.text="CODE REPETIDO",console.log("CODE REPETIDO");break}if(i==this.cant-1){let t={medicineid:this.id,name:this.name,concentration:this.concentration,form:this.form,expiration:this.expiration,quantity:this.qStr,code:this.barcode};await b["a"].post("http://localhost:8080/api/addmedicine",t).then(t=>{console.log("SE LOOGROO"),console.log(t)}),this.$router.push({name:"Medicines"});break}}else this.snb=!0,this.snackbar=!0,this.text="REVISAR LOS DATOS ENTRANTES",console.log("REVISAR LOS DATOS ENTRANTES");else this.snb=!0,this.snackbar=!0,this.text="FECHA NO ACEPTADA",console.log("FECHA NO ACEPTADA")},retrieveMedicines(){u["a"].getAllMedicines().then(t=>{console.log(t.data.response);let e=t.data.response,a=JSON.parse(e);this.windows=a,this.cant=this.windows.length,console.log("cantidad "+this.cant.toString());for(var i=0;i<this.windows.length;i++)this.codes.push(this.windows[i]["Record"].code)}).catch(t=>{console.log(t)})}}},f=m,v=(a("fc4b"),a("2877")),w=Object(v["a"])(f,h,p,!1,null,"6d9856bb",null);e["default"]=w.exports},fc4b:function(t,e,a){"use strict";var i=a("71e7"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-16ee2352.1523d27c.js.map