(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e48c8"],{9160:function(t,e,a){"use strict";a.r(e);var o=a("8336"),i=a("b0af"),s=a("99d9"),n=a("62ad"),l=a("adda"),c=a("0fd9"),r=a("2db4"),d=a("8654"),p=function(){var t=this,e=t.$createElement,p=t._self._c||e;return p("div",{staticClass:"pt-5 pl-5 pr-5"},[p(i["a"],{attrs:{color:"#55B4B0",rounded:"xl"}},[p(s["b"],{staticClass:"justify-center text-h4 pt-5 pb-5 font-weight-black"},[t._v("ACTUALIZAR POR EL CODIGO DE LA MEDICINA")])],1),p(c["a"],{staticClass:"pt-10"},[p(n["a"],{attrs:{cols:"12",sm:"8"}},[p(i["a"],{attrs:{color:"#55B4B0",rounded:"xl"}},[p(s["b"],{staticClass:"justify-center text-h5 pt-5 pb-5 font-weight-black"},[t._v("INGRESAR CODIGO DE LA MEDICINA")]),p("form",{attrs:{color:"blue lighten-1"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[p(d["a"],{staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"CODIGO MEDICINA"},model:{value:t.selectCode,callback:function(e){t.selectCode=e},expression:"selectCode"}}),p(n["a"],{staticClass:"pb-3 pl-10 pt-2 pr-10",attrs:{cols:"12"}},[p(o["a"],{attrs:{block:"",color:"blue lighten-1"},on:{click:function(e){return t.submit(t.selectCode)}}},[t._v("ENVIAR")])],1)],1)],1),p("h1",{staticClass:"pt-10"}),0==t.hide?p(i["a"],{attrs:{color:"#55B4B0",rounded:"xl"}},[p(s["b"],{staticClass:"justify-center text-h5 pt-5 pb-5 font-weight-black"},[t._v("MEDICINA SELECCIONADA")]),p("form",{attrs:{color:"blue lighten-1"},on:{submit:function(e){return e.preventDefault(),t.update.apply(null,arguments)}}},[p("vue-title",{attrs:{title:"Static Title"}}),p(d["a"],t._b({staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Nombre Génerico"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"v-text-field",{placeholder:t.name},!1)),p(d["a"],t._b({staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Concentración"},model:{value:t.concentration,callback:function(e){t.concentration=e},expression:"concentration"}},"v-text-field",{placeholder:t.concentration},!1)),p(d["a"],t._b({staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Forma Farmacéutica"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},"v-text-field",{placeholder:t.form},!1)),p(d["a"],t._b({staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",type:"date",label:"Fecha de Expiración"},model:{value:t.expiration,callback:function(e){t.expiration=e},expression:"expiration"}},"v-text-field",{placeholder:t.expiration},!1)),p(d["a"],t._b({staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",type:"number",label:"Cantidad"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}},"v-text-field",{placeholder:t.quantity},!1)),p(d["a"],t._b({staticClass:"pl-10 pt-2 pr-10",attrs:{color:"white",label:"Lote - Código",disabled:""},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}},"v-text-field",{placeholder:t.barcode},!1)),p(n["a"],{staticClass:"pb-3 pl-10 pt-2 pr-10",attrs:{cols:"12"}},[p(o["a"],{attrs:{block:"",color:"blue lighten-1"},on:{click:t.update}},[t._v("ACTUALIZAR")])],1)],1)],1):t._e()],1),p(n["a"],{attrs:{cols:"12",sm:"3"}},[p(l["a"],{staticClass:"pl-20",attrs:{src:a("6632"),contain:"",height:"400"}})],1)],1),1==t.snb?p("div",[p(r["a"],{attrs:{timeout:-1,value:!0,bottom:"","multi-line":t.multiLine,color:"primary"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[p(o["a"],t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}],null,!1,1532622817),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.text)+" ")])],1):t._e()],1)},h=[],u=a("d4ce"),b=a("bc3a"),C={data:()=>({windows:null,idCode:{},codes:[],selectCode:null,hide:!0,name:"",concentration:"",form:"",expiration:"",quantity:"",barcode:"",search:null,text:"",snb:!1,multiLine:!0,snackbar:!1}),created(){this.retrieveMedicines()},methods:{async submit(t){console.log("BARCODE "+t);for(var e=0;e<this.codes.length;e++)if(t==this.codes[e]){console.log("CORRECTO CODE"),this.retrieveMedicineById(this.idCode[t]),this.hide=!1;break}1==this.hide&&(this.snb=!0,this.snackbar=!0,this.text="CODIGO INGRESADO NO IDENTIFICADO",console.log("CODE NO IDENTIFICADO"))},async update(){var t=Date.now(),e=new Date(t),a=new Date(this.expiration);if(a>e)if(this.name.length>0&&this.concentration.length>0&&this.form.length>0&&this.quantity>0){let t={name:this.name,concentration:this.concentration,form:this.form,expiration:this.expiration,quantity:this.quantity};await b["a"].put("http://localhost:8080/api/updatemedicine/"+this.idCode[this.selectCode],t).then(t=>{console.log(t)}),this.$router.push({name:"Medicines"})}else this.snb=!0,this.snackbar=!0,this.text="REVISAR LOS DATOS ENTRANTES",console.log("REVISAR LOS DATOS ENTRANTES");else this.snb=!0,this.snackbar=!0,this.text="FECHA NO ACEPTADA",console.log("FECHA NO ACEPTADA")},retrieveMedicines(){u["a"].getAllMedicines().then(t=>{console.log(t.data.response);let e=t.data.response,a=JSON.parse(e);this.windows=a;for(var o=0;o<this.windows.length;o++)this.codes.push(this.windows[o]["Record"].code),this.idCode[this.windows[o]["Record"].code]="MEDICINE"+o.toString();console.log("CODES "+this.codes.toString())}).catch(t=>{console.log(t)})},retrieveMedicineById(t){u["a"].getMedicineById(t).then(t=>{let e=t.data.response,a=JSON.parse(e);console.log(a),this.name=a.name,this.concentration=a.concentration,this.form=a.form,this.expiration=a.expiration,this.quantity=a.quantity,this.barcode=a.code,console.log("na "+this.name)}).catch(t=>{console.log(t)})}}},f=C,m=a("2877"),v=Object(m["a"])(f,p,h,!1,null,"3cd2f986",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0e48c8.c429195e.js.map